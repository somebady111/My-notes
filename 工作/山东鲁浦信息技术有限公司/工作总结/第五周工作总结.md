# 第五周工作总结

#### 当前项目阶段：

> 测试+优化（doing）+回发消息（完成）

#### 上周学习计划：

|     本周学习内容      |           备注           |
| :-------------------: | :----------------------: |
|    数据可视化学习     | 本周内完成基本知识点学习 |
| 打包模块distutils模块 |        working...        |
| 自动化部署的pypi模块  |        working...        |

#### 上周任务：

|               任务名称                |    进度    |           备注           |
| :-----------------------------------: | :--------: | :----------------------: |
|       commanddata表格查询、更新       |    完成    |                          |
|               消息回发                |    完成    |                          |
|               数据加密                | working... | 需要硬件端的配套加密方案 |
|             上线部署准备              | working... |                          |
|          传输机制的预备方案           | working... |       需要进行测试       |
| 日志模块进阶（日志文件配置+远程日志） | working... |       需要进行测试       |

#### 程序测试：

|            测试程序             | 测试时间  |                           测试内容                           |                           测试结果                           | 改进方案                                                   | 测试总结                                                     |
| :-----------------------------: | :-------: | :----------------------------------------------------------: | :----------------------------------------------------------: | ---------------------------------------------------------- | ------------------------------------------------------------ |
| 对布尔型数值的十六中缺0情况测试 | 2019-5-13 |               对布尔型数值转换后缺失值情况测试               |               1.解决转换为二进制后缺失零的问题               | 1.使用format函数处理判断，优化程序                         |                                                              |
|      对回发消息机制的测试       | 2019-5-13 |                回发消息，并对flag字段进行修改                | 1.消息发送成功，更改成功2.mqtt传输方式会持续监听，不会再重新对连接端进行运行 | 1.对查表为空值的情况进行了异常处理2.将查询函数在循环中调用 | 更改，查询问题已解决                                         |
|        程序功能总体测试         | 2019-5-20 | 1.接收转换数值准确测试2.发送至硬件端数值测试3.日志写入测试4.插入数据库，从数据库取值测试5.实时时间测试 |                                                              |                                                            |                                                              |
|          回发消息测试           | 2019-5-23 |         1.消息回发是否成功2.数据库标志位flag是否修改         |  1.修改成功，但是需要等待第一条修改信息接收到才能进行第二条  |                                                            | 1.回发消息需要第一条修改值返回后才能进行第二条回发2.回发消息不需要实时发送 |

######测试数据：

> `原始数据：`413915B54138413900050006000700084138F5C3412000D24130013B414001A34150020C41600275417002DE418001A3418801D84190020C4198044D41A0048141A804B641B004EA41B8051F41C0055341C8058841D005BC41D805F041E0062541E8065941F0068E41F806C27FFF,Sat Jan  6 04:16:35 2080\n,,777253250,89860403101892693073,,\xf8>,,\xf8>

###### 测试设计方案

> **1.实时时间测试设计**
>
> ​	1.前端观察数据（固定时间变化）
>
> ​	2.硬件端接收数据，并发回，前端查看是否与修改的数值一致
>
> **2.其他**
>
> ​	1.看日志记录和打印结果 

#### BUG

|            BUG程序             |     修正方案     |
| :----------------------------: | :--------------: |
|         模块二日志等级         | 降低日志写入等级 |
|     模块二cs21字段超出范围     |     测试修正     |
| 模块一查询commanddata表修改bug |     循环调用     |



#### 方案优化：

|            优化程序             |       优化方案        | 备注 |
| :-----------------------------: | :-------------------: | :--: |
|         数据分离模块二          | 优化浮点数添加0的判断 |      |
|         日志logging模块         |   远程日志+统一配置   |      |
| 改动线程模块使用进程模块process |    使用进程process    |      |

#### 本周工作总结：

|   名称   |                             内容                             |   备注   |
| :------: | :----------------------------------------------------------: | :------: |
| 交流细节 | 1.返回消息不重要2.日志记录不重要3.前端的页面跳转继承4.地图的模糊查询5.表权限区分6.前台展示的数据分析7.显示细节 | 着重前端 |
|          |                                                              |          |
|          |                                                              |          |

#### 下周计划：

|      计划名称      |          计划内容           | 备注 |
| :----------------: | :-------------------------: | :--: |
| 完成上周计划的部分 | 日志+部署+预备方案+数据加密 |      |
|   数据可视化学习   |           不预期            |      |
|      机器学习      |           不预期            |      |
|    日志存储方式    |        先保存在本地         |      |
|                    |                             |      |
