# 第二周工作总结

- 当前进度：类封装+模块拆分+多线程+日志记载+数据传输+数据拆分+保存数据库+自动化测试
- 最新文件
  - module_2文件
- 测试用时
  - 对比进程，线程，不使用线程的时间
    - 多线程池：
      - [x] 线程数量三（拆分数据线程，转换数据线程，保存数据线程）
      - [x] 多线程用时0.05s 稳定
    - 多进程池
      - 
- 程序改进
  - [x] 完成多线程+模块调用+类封装
- 本周任务
  - [x] 加入日志logging
  - [ ] 加入数据库锁，数据库自动备份
  - [x] 了解mqtt对python的支持
  - [x] 测试replace...info...方法
- 日志文件
  - 采用logging模块记录程序日志
    - 根据信息类别存储信息
      - error信息
      - 警告和debug信息...
    - 按照时间自动格式分割日志文件
      - [x] 按照一天拆分 
    - 日志格式：时间+数据+mac号
      - 一条数据要写入的日志格式
        - [ ] 有效数据长度
        - [x] 原始数据
        - [x] 拆分数据完成用时
        - [ ] 拆分数据用时
        - [x] 格式化数据完成时间
        - [ ] 格式化数据用时
        - [x] 保存表一成功或失败
        - [x] 保存表二成功或失败
        - [x] 数据库插入完成事件
        - [ ] 数据库插入用时
        - [x] 加入mac号
  - 日志位置
    - 位置模块二
      - [x] 考虑到对类的封装（多个类继承时使用类更方便）
- 数据格式
  - ['026A4000006400280005000401F401F400000064000A003C42C7006400034108000040B3333342F0CEF3000000270000000000400000000000000000003C00A40A0142C73D71000000280A0C000000000060008900000000000000000000000000000000000000EA000000000000', 'Sat Jan  6 04:35:00 2080\\n', '', '777253250', '89860403101892693073', '', 'H3', '', 'H3']
- 利用一个程序实现对接收客户端的测试
  - [x] 改变mac机器编号
  - [x] 测试数据要求：日志+接收和存储时间的配合
- 待优化方案
  - [ ] 1.数据库的SQL语句优化
  - [ ] 2.拆分数据优化
  - [ ] 3.线程函数优化
  - [ ] 4.整个程序在时间上的优化
  - [ ] 5.程序异常优化

