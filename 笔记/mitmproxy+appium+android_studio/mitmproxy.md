# mitmproxy

**1.通过设置不同设备间认证证书、协议代理来进行移动端抓包。**

**2.问题：**

1.抓包出现乱码

2.部分APP不支持，返回信息不正确

3.爬取的是大量图片img信息，除非是HTML信息不会错，但是APP只返回img相关信息

4.要实现APP自动话抓取，需要设置appium，以及适配的android端配置

5.在Linux下进行mitmproxy代理设置会出现认证证书不能安装；Windows下是抓取内容和乱码，以及不能使用mitmproxy命令

**3.伪造请求**

**4.解决**

1.Linux下安装认证证书

通过Firefox导入

**5.乱码问题：**

```txt
测试发现，如果请求中只是文字显示编码是没有问题的；如果请求中带有二进制图片，会出现乱码问题，实例如：CSDN APP爬取
```

**6.Linux同手机端处于同一局域网下配置成功：**配置虚拟网络为桥接-net

**7.mitmproxy命令测试：**

```text
tab  键切换查看内容
e  进入编辑功能
m  编辑请求方式
q  修改get请求参数query
a  增加一行输入
esc+q  返回之前页面
e+p  修改path
a  保存修改
r  重新发起请求
```

**8.优化mitmproxy端口监听信息的打印输出**

1.之前的获取打印是获取的8080端口上的所有请求

2.方法：脚本上网址筛选，被监听端的后台控制，将监听到的内容写入文档中查看

**9.mitmproxy指定端口使用**

1.-p port